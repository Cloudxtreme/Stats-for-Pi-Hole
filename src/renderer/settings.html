<head>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="./main.css" />
</head>
<div class="container mt-4">
  <div class="input-group">
    <div class="col-6">
   <p>Hostname</p>


      <input class="form-control" id="hostname" name="hostname" type="text" value="http://192.168.0.65" placeholder="I.e: http://192.168.0.65"></div>

    <div class="col-6">
      <p>Refresh</p>
      <input class="form-control" id="intervalInput" type="number" placeholder="Every x seconds">
    </div>
  </div>

  <div class="col-12 mt-4">
    <p>Token</p>
    <input class="form-control" id="tokenInput" type="text" value="30" placeholder="If you don't have any password, leave this blank">
  </div>


  <div class="col-12 text-center">
    <br>
    <button id="saveBtn" class="btn btn-primary">Save & Close</button>
    <button id="exitBtn" class="btn btn-danger">Exit PiDNS-Stats</button>

  </div>
</div>
<script>
  window.$ = window.jQuery = require('../../node_modules/jquery/dist/jquery.js');
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
<script>
  const Store = require("electron-store")
  const store = new Store();
  const remote = require('electron').remote;
  const ipcRenderer = require('electron').ipcRenderer;


  //Store the diffrent settings in settings page
  var storeHostname = store.get("hostname");
  var storeInterval = store.get("interval");
  var storeToken = store.get("token");


  $("#hostname").val(storeHostname)
  $("#intervalInput").val(storeInterval)
  $("#tokenInput").val(storeToken)
  store.get("hostname")
  store.get("interval")
  store.get("token")
  $("#saveBtn").click(function() {
    var hostname = $("#hostname").val();
    var interval = $("#intervalInput").val();
    var token = $("#tokenInput").val();
    ipcRenderer.send("user-data", "ping");
    store.set("hostname", hostname);
    store.set("interval", interval);
    store.set("token", token);
  })

  $("#exitBtn").click(function() {
  ipcRenderer.send("exit-stats", "exit");
  })

</script>
